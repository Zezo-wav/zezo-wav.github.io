<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            color: #e8e8e8;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Background video (optional) */
        .bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
            opacity: 0.4; /* Adjust opacity as needed */
            display: none; /* Change to 'block' to enable video background */
        }

        /* Animated gradient background with analogous purple colors */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 50% 75%; }
            50% { background-position: 100% 50%; }
            75% { background-position: 50% 25%; }
            100% { background-position: 0% 50%; }
        }

        body {
            background: linear-gradient(
                135deg,
                #1a0f2e,  /* deep purple */
                #2d1b4e,  /* purple */
                #1f1438,  /* dark purple */
                #2a1845,  /* purple */
                #251454,  /* blue-purple */
                #2e1a4a,  /* purple */
                #3d1f4d,  /* red-purple */
                #1e1540,  /* blue-purple */
                #2a1845   /* back to purple */
            );
            background-size: 400% 400%;
            animation: gradientShift 30s ease infinite;
            min-height: 100vh;
            position: relative;
        }

        /* Dark overlay for video background */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: -1;
            pointer-events: none;
            display: none; /* Change to 'block' when using video background */
        }

        /* Menu button in corner */
        .menu-toggle {
            position: fixed;
            top: 60px;
            right: 80px;
            z-index: 101;
            background: none;
            border: none;
            color: rgba(232, 232, 232, 0.6);
            font-size: 0.9em;
            cursor: pointer;
            padding: 8px 12px;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            font-weight: 400;
            letter-spacing: 0.02em;
            opacity: 1;
            pointer-events: auto;
        }

        .menu-toggle:hover {
            color: rgba(232, 232, 232, 1);
        }

        .menu-toggle.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Mute button in opposite corner */
        .mute-toggle {
            position: fixed;
            top: 60px;
            left: 80px;
            z-index: 101;
            background: none;
            border: none;
            color: rgba(232, 232, 232, 0.6);
            font-size: 0.9em;
            cursor: pointer;
            padding: 8px 12px;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
            font-weight: 400;
            letter-spacing: 0.02em;
            opacity: 1;
            pointer-events: auto;
        }

        .mute-toggle:hover {
            color: rgba(232, 232, 232, 1);
        }

        .mute-toggle.muted {
            color: rgba(232, 232, 232, 0.3);
        }

        .mute-toggle.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Audio elements hidden */
        .section-audio {
            display: none;
        }

        /* Dropdown navigation */
        nav {
            position: fixed;
            top: 100px;
            right: 80px;
            z-index: 100;
            background: rgba(20, 10, 30, 0.95);
            border-radius: 8px;
            padding: 20px 0;
            backdrop-filter: blur(20px);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        nav.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        nav.hidden {
            opacity: 0 !important;
            visibility: hidden !important;
            pointer-events: none;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        nav a {
            color: rgba(232, 232, 232, 0.6);
            text-decoration: none;
            font-size: 0.9em;
            font-weight: 400;
            transition: all 0.2s ease;
            letter-spacing: 0.02em;
            padding: 12px 30px;
            display: block;
        }

        nav a:hover {
            color: rgba(232, 232, 232, 1);
            background: rgba(232, 232, 232, 0.05);
        }

        nav a.active {
            color: rgba(232, 232, 232, 1);
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 80px;
            min-height: 100vh;
        }

        /* Sections */
        .section {
            display: none;
            min-height: 100vh;
            padding: 120px 0 80px;
            animation: fadeIn 0.6s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Main page */
        #main {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
        }

        #main.active {
            display: flex;
        }

        .home-content h1 {
            font-size: clamp(3rem, 8vw, 6rem);
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        .home-content .subtitle {
            font-size: 1.2em;
            color: rgba(232, 232, 232, 0.6);
            font-weight: 300;
            margin-bottom: 60px;
        }

        .home-content .intro {
            max-width: 600px;
            font-size: 1em;
            line-height: 1.8;
            color: rgba(232, 232, 232, 0.7);
            font-weight: 300;
        }

        /* Section header - replaces main header on category pages */
        .section-header {
            margin-bottom: 80px;
        }

        .section-header h2 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 300;
            margin-bottom: 12px;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        .section-header .section-subtitle {
            font-size: 1.1em;
            color: rgba(232, 232, 232, 0.5);
            font-weight: 300;
        }

        /* Row-based layout */
        .work-list {
            display: flex;
            flex-direction: column;
            gap: 80px;
        }

        .work-row {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 60px;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .work-row:hover {
            transform: translateX(10px);
        }

        .work-media {
            width: 100%;
            aspect-ratio: 16/9;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .work-media span {
            color: rgba(232, 232, 232, 0.2);
            font-size: 0.9em;
        }

        .work-info h3 {
            font-size: 1.5em;
            font-weight: 400;
            margin-bottom: 12px;
            letter-spacing: -0.01em;
        }

        .work-info p {
            font-size: 0.95em;
            color: rgba(232, 232, 232, 0.6);
            font-weight: 300;
            line-height: 1.6;
        }

        /* Album-specific styling */
        .album-media {
            aspect-ratio: 4/3;
            position: relative;
        }

        .album-count {
            position: absolute;
            bottom: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.6);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8em;
            backdrop-filter: blur(10px);
        }

        /* Track styling */
        .track-media {
            aspect-ratio: 1;
        }

        /* Gallery overlay - slideshow style */
        .gallery-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.97);
            z-index: 1000;
            backdrop-filter: blur(30px);
        }

        .gallery-overlay.active {
            display: flex;
            flex-direction: column;
            animation: fadeIn 0.3s ease;
        }

        .gallery-header {
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .gallery-title {
            font-size: 1.1em;
            font-weight: 400;
            color: rgba(232, 232, 232, 0.8);
        }

        .close-gallery {
            background: none;
            border: none;
            color: #e8e8e8;
            font-size: 2em;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }

        .close-gallery:hover {
            background: rgba(232, 232, 232, 0.1);
        }

        /* Slideshow content */
        .gallery-slideshow {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 40px;
        }

        .slide {
            display: none;
            max-width: 80%;
            max-height: 80vh;
            margin: 0 auto;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 0.4s ease;
        }

        .slide-image {
            max-width: 100%;
            max-height: 85vh;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
        }

        /* When actual images are used */
        .slide-image img {
            max-width: 100%;
            max-height: 85vh;
            width: auto;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
        }

        /* Zoomed state */
        .slide-image.zoomed {
            max-height: none;
            max-width: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 98vw;
            height: 98vh;
            z-index: 1001;
            background: rgba(0, 0, 0, 0.98);
            border-radius: 0;
        }

        .slide-image.zoomed img {
            max-width: 98vw;
            max-height: 98vh;
            cursor: zoom-out !important;
        }

        .slide-image span {
            color: rgba(232, 232, 232, 0.2);
            font-size: 0.9em;
        }

        .slide-caption {
            margin-top: 20px;
            text-align: center;
            color: rgba(232, 232, 232, 0.6);
            font-size: 0.9em;
        }

        /* Navigation arrows */
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: #e8e8e8;
            font-size: 2em;
            cursor: pointer;
            padding: 20px 25px;
            border-radius: 50%;
            transition: all 0.2s;
            backdrop-filter: blur(10px);
        }

        .gallery-nav:hover {
            background: rgba(0, 0, 0, 0.7);
            transform: translateY(-50%) scale(1.1);
        }

        .gallery-nav.prev {
            left: 40px;
        }

        .gallery-nav.next {
            right: 40px;
        }

        /* Counter */
        .gallery-counter {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(232, 232, 232, 0.6);
            font-size: 0.9em;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                padding: 0 40px;
            }

            .menu-toggle {
                top: 40px;
                right: 40px;
            }

            .mute-toggle {
                top: 40px;
                left: 40px;
            }

            nav {
                right: 40px;
            }

            .work-row {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .work-list {
                gap: 60px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 25px;
            }

            .menu-toggle {
                top: 30px;
                right: 25px;
            }

            .mute-toggle {
                top: 30px;
                left: 25px;
            }

            nav {
                right: 25px;
            }

            .section {
                padding: 80px 0 60px;
            }

            .section-header {
                margin-bottom: 50px;
            }

            .section-header h2 {
                font-size: 2.5em;
            }

            .gallery-nav {
                padding: 15px 20px;
                font-size: 1.5em;
            }

            .gallery-nav.prev {
                left: 20px;
            }

            .gallery-nav.next {
                right: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Video (uncomment and add your video file to use) -->
    <!-- 
    <video class="bg-video" autoplay muted loop playsinline>
        <source src="your-video.mp4" type="video/mp4">
        <source src="your-video.webm" type="video/webm">
    </video>
    -->

    <!-- Background Audio for each section -->
    <audio id="audio-main" class="section-audio" loop>
        <source src="audio/main-ambient.mp3" type="audio/mpeg">
        <source src="audio/main-ambient.m4a" type="audio/mp4">
    </audio>

    <audio id="audio-videos" class="section-audio" loop>
        <source src="audio/videos-ambient.mp3" type="audio/mpeg">
        <source src="audio/videos-ambient.m4a" type="audio/mp4">
    </audio>

    <audio id="audio-photos" class="section-audio" loop>
        <source src="audio/photos-ambient.mp3" type="audio/mpeg">
        <source src="audio/photos-ambient.m4a" type="audio/mp4">
    </audio>

    <audio id="audio-music" class="section-audio" loop>
        <source src="audio/music-ambient.mp3" type="audio/mpeg">
        <source src="audio/music-ambient.m4a" type="audio/mp4">
    </audio>

    <button class="mute-toggle" id="muteToggle" onclick="toggleMute()">Sound On</button>
    <button class="menu-toggle" onclick="toggleMenu()">Menu</button>

    <nav id="mainNav">
        <ul>
            <li><a href="#" class="active" onclick="showSection('main'); return false;">Main</a></li>
            <li><a href="#" onclick="showSection('videos'); return false;">Videos</a></li>
            <li><a href="#" onclick="showSection('photos'); return false;">Photos</a></li>
            <li><a href="#" onclick="showSection('music'); return false;">Music</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Main Page -->
        <section id="main" class="section active">
            <div class="home-content">
                <h1>Your Name</h1>
                <p class="subtitle">Visual Artist & Creator</p>
                <p class="intro">
                    Welcome to my portfolio. Here you'll find a collection of my work across video, 
                    photography, and music. Each project represents a exploration of different mediums 
                    and creative processes.
                </p>
            </div>
        </section>

        <!-- Videos Section -->
        <section id="videos" class="section">
            <div class="section-header">
                <h2>Videos</h2>
                <p class="section-subtitle">A collection of my film and video work</p>
            </div>

            <div class="work-list">
                <div class="work-row">
                    <div class="work-media">
                        <span>Video</span>
                    </div>
                    <div class="work-info">
                        <h3>Project One</h3>
                        <p>An experimental short film exploring urban spaces.</p>
                    </div>
                </div>

                <div class="work-row">
                    <div class="work-media">
                        <span>Video</span>
                    </div>
                    <div class="work-info">
                        <h3>Project Two</h3>
                        <p>Documentary about local artists.</p>
                    </div>
                </div>

                <div class="work-row">
                    <div class="work-media">
                        <span>Video</span>
                    </div>
                    <div class="work-info">
                        <h3>Project Three</h3>
                        <p>Visual essay on memory and time.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Photos Section - Albums -->
        <section id="photos" class="section">
            <div class="section-header">
                <h2>Photography</h2>
                <p class="section-subtitle">Visual stories through the lens</p>
            </div>

            <div class="work-list">
                <div class="work-row" onclick="openGallery('Floor', 6)">
                    <div class="work-media album-media" style="background-image: url('photos/floor/cover.jpg'); background-size: cover; background-position: center;">
                        <div class="album-count">6 photos</div>
                    </div>
                    <div class="work-info">
                        <h3>Floor</h3>
                        <p>Stuff I found on the floor. No rhyme. No reason.</p>
                    </div>
                </div>

                <div class="work-row" onclick="openGallery('Urban Exploration', 12)">
                    <div class="work-media album-media">
                        <span>Album</span>
                        <div class="album-count">12 photos</div>
                    </div>
                    <div class="work-info">
                        <h3>Urban Exploration</h3>
                        <p>Street photography from downtown.</p>
                    </div>
                </div>

                <div class="work-row" onclick="openGallery('Portraits', 8)">
                    <div class="work-media album-media">
                        <span>Album</span>
                        <div class="album-count">8 photos</div>
                    </div>
                    <div class="work-info">
                        <h3>Portraits</h3>
                        <p>Studio portrait series.</p>
                    </div>
                </div>

                <div class="work-row" onclick="openGallery('Landscapes', 15)">
                    <div class="work-media album-media">
                        <span>Album</span>
                        <div class="album-count">15 photos</div>
                    </div>
                    <div class="work-info">
                        <h3>Landscapes</h3>
                        <p>Natural landscapes and environments.</p>
                    </div>
                </div>

                <div class="work-row" onclick="openGallery('Abstract', 10)">
                    <div class="work-media album-media">
                        <span>Album</span>
                        <div class="album-count">10 photos</div>
                    </div>
                    <div class="work-info">
                        <h3>Abstract</h3>
                        <p>Experimental photography work.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Music Section -->
        <section id="music" class="section">
            <div class="section-header">
                <h2>Music</h2>
                <p class="section-subtitle">Audio compositions and sound design</p>
            </div>

            <div class="work-list">
                <div class="work-row">
                    <div class="work-media track-media">
                        <span>♪</span>
                    </div>
                    <div class="work-info">
                        <h3>Track One</h3>
                        <p>Electronic composition exploring rhythm.</p>
                    </div>
                </div>

                <div class="work-row">
                    <div class="work-media track-media">
                        <span>♪</span>
                    </div>
                    <div class="work-info">
                        <h3>Track Two</h3>
                        <p>Ambient soundscape piece.</p>
                    </div>
                </div>

                <div class="work-row">
                    <div class="work-media track-media">
                        <span>♪</span>
                    </div>
                    <div class="work-info">
                        <h3>Track Three</h3>
                        <p>Experimental audio collage.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Gallery Overlay with Slideshow -->
    <div class="gallery-overlay" id="galleryOverlay">
        <div class="gallery-header">
            <h2 class="gallery-title" id="galleryTitle">Album Name</h2>
            <button class="close-gallery" onclick="closeGallery()">×</button>
        </div>
        <div class="gallery-slideshow">
            <button class="gallery-nav prev" onclick="changeSlide(-1)">‹</button>
            <div id="slidesContainer">
                <!-- Slides will be inserted here -->
            </div>
            <button class="gallery-nav next" onclick="changeSlide(1)">›</button>
            <div class="gallery-counter" id="galleryCounter">1 / 1</div>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        let totalSlides = 0;
        let isMuted = true; // Start muted by default
        let currentAudio = null;
        let currentSection = 'main';

        // Audio management
        const audioElements = {
            'main': document.getElementById('audio-main'),
            'videos': document.getElementById('audio-videos'),
            'photos': document.getElementById('audio-photos'),
            'music': document.getElementById('audio-music')
        };

        // Set initial volume for all audio elements
        Object.values(audioElements).forEach(audio => {
            if (audio) {
                audio.volume = 0.3; // Default volume at 30%
            }
        });

        function toggleMute() {
            const button = document.getElementById('muteToggle');
            isMuted = !isMuted;
            
            if (isMuted) {
                button.textContent = 'Sound Off';
                button.classList.add('muted');
                if (currentAudio) {
                    fadeOut(currentAudio);
                }
            } else {
                button.textContent = 'Sound On';
                button.classList.remove('muted');
                playAudioForSection(currentSection);
            }
        }

        function playAudioForSection(sectionId) {
            const newAudio = audioElements[sectionId];
            
            // If muted, don't play anything
            if (isMuted || !newAudio) return;

            // If same audio is already playing, do nothing
            if (currentAudio === newAudio && !currentAudio.paused) return;

            // Fade out current audio
            if (currentAudio && currentAudio !== newAudio) {
                fadeOut(currentAudio);
            }

            // Fade in new audio
            currentAudio = newAudio;
            fadeIn(currentAudio);
        }

        function fadeIn(audio) {
            if (!audio) return;
            
            audio.volume = 0;
            audio.play().catch(e => {
                console.log('Autoplay prevented. User interaction required.');
            });
            
            let vol = 0;
            const fadeInterval = setInterval(() => {
                if (vol < 0.3) {
                    vol += 0.02;
                    audio.volume = Math.min(vol, 0.3);
                } else {
                    clearInterval(fadeInterval);
                }
            }, 50);
        }

        function fadeOut(audio) {
            if (!audio) return;
            
            let vol = audio.volume;
            const fadeInterval = setInterval(() => {
                if (vol > 0) {
                    vol -= 0.02;
                    audio.volume = Math.max(vol, 0);
                } else {
                    audio.pause();
                    audio.currentTime = 0;
                    clearInterval(fadeInterval);
                }
            }, 50);
        }

        function toggleMenu() {
            const nav = document.getElementById('mainNav');
            nav.classList.toggle('active');
        }

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            const nav = document.getElementById('mainNav');
            const menuToggle = document.querySelector('.menu-toggle');
            
            if (!nav.contains(e.target) && !menuToggle.contains(e.target)) {
                nav.classList.remove('active');
            }
        });

        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected section
            document.getElementById(sectionId).classList.add('active');

            // Update nav active state
            const navLinks = document.querySelectorAll('nav a');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            // Close menu after selection
            document.getElementById('mainNav').classList.remove('active');

            // Switch background audio
            currentSection = sectionId;
            playAudioForSection(sectionId);
        }

        function openGallery(albumName, photoCount) {
            const overlay = document.getElementById('galleryOverlay');
            const title = document.getElementById('galleryTitle');
            const container = document.getElementById('slidesContainer');

            title.textContent = albumName;
            totalSlides = photoCount;
            currentSlide = 0;
            
            // Create folder-safe name for album
            const folderName = albumName.toLowerCase().replace(/\s+/g, '-');
            
            // Clear and populate slides
            container.innerHTML = '';
            for (let i = 1; i <= photoCount; i++) {
                const slide = document.createElement('div');
                slide.className = 'slide';
                if (i === 1) slide.classList.add('active');
                
                // Create image path: photos/floor/1.jpg, photos/floor/2.jpg, etc.
                const imagePath = `photos/${folderName}/${i}.jpg`;
                
                slide.innerHTML = `
                    <div class="slide-image" onclick="toggleZoom(this)">
                        <img src="${imagePath}" alt="${albumName} - Photo ${i}" 
                             style="width: 100%; height: 100%; object-fit: contain; border-radius: 8px; cursor: zoom-in; transition: transform 0.3s ease;"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <span style="display: none; width: 100%; height: 100%; align-items: center; justify-content: center; color: rgba(232, 232, 232, 0.2);">Photo ${i}</span>
                    </div>
                `;
                container.appendChild(slide);
            }

            updateCounter();
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeGallery() {
            const overlay = document.getElementById('galleryOverlay');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function changeSlide(direction) {
            const slides = document.querySelectorAll('.slide');
            slides[currentSlide].classList.remove('active');
            
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            
            slides[currentSlide].classList.add('active');
            updateCounter();
        }

        function updateCounter() {
            const counter = document.getElementById('galleryCounter');
            counter.textContent = `${currentSlide + 1} / ${totalSlides}`;
        }

        function toggleZoom(element) {
            element.classList.toggle('zoomed');
            const img = element.querySelector('img');
            if (img) {
                if (element.classList.contains('zoomed')) {
                    img.style.cursor = 'zoom-out';
                } else {
                    img.style.cursor = 'zoom-in';
                }
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const overlay = document.getElementById('galleryOverlay');
            if (overlay.classList.contains('active')) {
                if (e.key === 'Escape') {
                    closeGallery();
                } else if (e.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeSlide(1);
                }
            }
        });

        // Handle user interaction to enable audio (for browsers that block autoplay)
        document.addEventListener('click', function initAudio() {
            if (!isMuted && currentAudio) {
                currentAudio.play().catch(e => console.log('Audio play failed'));
            }
            document.removeEventListener('click', initAudio);
        }, { once: true });

        // Hide buttons on scroll, show when at top
        let lastScrollTop = 0;
        const menuButton = document.querySelector('.menu-toggle');
        const muteButton = document.querySelector('.mute-toggle');
        const navDropdown = document.getElementById('mainNav');

        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            // If at the very top (within 10px threshold)
            if (scrollTop <= 10) {
                menuButton.classList.remove('hidden');
                muteButton.classList.remove('hidden');
                navDropdown.classList.remove('hidden');
            } else {
                menuButton.classList.add('hidden');
                muteButton.classList.add('hidden');
                navDropdown.classList.add('hidden');
                // Also close the menu if it's open
                navDropdown.classList.remove('active');
            }
            
            lastScrollTop = scrollTop;
        });
    </script>
</body>
</html>
